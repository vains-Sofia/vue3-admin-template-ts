import{r as c}from"./Request.f9697438.js";import{d as a}from"./index.3e08daed.js";function s(t){const o={headers:{Authorization:"Basic YWRtaW46MTIzNDU2"}};return c.post(`http://kwqqr48rgo.cdhttp.cn/oauth2/token?grant_type=${t.grant_type}&code=${t.code}&redirect_uri=${t.redirect_uri}`,{},o)}const g=a({__name:"LoginRedirect",setup(t){let i={grant_type:"authorization_code",code:(e=>{let n=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),r=window.location.search.substr(1).match(n);return r!==null?decodeURIComponent(r[2]):""})("code"),redirect_uri:"http://vains-sofia.gitee.io/vains3-admin-template-ts/loginRedirect"};return s(i).then(e=>{window.localStorage.setItem("token",e.token_type+" "+e.access_token),window.close()}),(e,n)=>"Loading..."}});export{g as default};
