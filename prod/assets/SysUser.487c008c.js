import{d as N,k as u,G as i,H as P,D as R,r as o,o as d,g as b,m as T,b as a,f as t,w as r,e as g,F as U,h as W,i as H,c as y,E as M}from"./index.f38b905c.js";import{g as $,d as L}from"./UserApi.8eed6955.js";import{_ as O}from"./_plugin-vue_export-helper.cdc0426e.js";import"./Request.64893a2b.js";const j={key:0},q={key:0},G=N({__name:"SysUser",setup(J){let l=u({});const m=u(!0);m.value=i.currentRoute.value.fullPath.indexOf("userInsert")<0,P(i.currentRoute,()=>{m.value=i.currentRoute.value.fullPath.indexOf("userInsert")<0});const c=u({current:1,size:10}),v=u([{labelWidth:50,tag:"el-input",type:"Input",props:{size:"default",disabled:!1,readonly:!1,clearable:!0,suffixIcon:"",prefixIcon:"",placeholder:"\u8BF7\u8F93\u5165\u6635\u79F0"},label:"\u6635\u79F0",modelValue:"nickName",selectCurrent:!1},{labelWidth:50,tag:"el-input",type:"Input",props:{size:"default",disabled:!1,readonly:!1,clearable:!0,suffixIcon:"",prefixIcon:"",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7"},label:"\u624B\u673A",modelValue:"Input_1649063073279",selectCurrent:!1},{labelWidth:50,tag:"el-input",type:"Input",props:{size:"default",disabled:!1,readonly:!1,clearable:!0,suffixIcon:"",prefixIcon:"",placeholder:"\u8BF7\u8F93\u5165\u90AE\u7BB1"},label:"\u90AE\u7BB1",modelValue:"email",selectCurrent:!1},{labelWidth:50,tag:"el-button",type:"Button",props:{icon:"",type:"",size:"default",plain:!1,round:!1,circle:!1,loading:!1,disabled:!1},label:"\u641C\u7D22",buttonType:"submit",modelValue:"Button_1649063117438",selectCurrent:!0}]),C=u({inline:!0,labelPosition:"right",labelSuffix:"",statusIcon:!1,hideRequiredAsterisk:!1,showMessage:!0,size:"default",disabled:!1});let B=u(0);R(()=>{const e=document.getElementById("dynamicForm");e!==null&&(B.value=e.clientHeight)});let s=()=>{$(c.value).then(e=>{l.value=e})},F=()=>{i.push("/system/user/userInsert/0")},I=e=>{i.push(`/system/user/userInsert/${e.id}`)},x=e=>{L(e.id).then(()=>{M("\u5220\u9664\u6210\u529F."),s()})};s();let w=e=>{c.value.current=e,s()},z=e=>{c.value.size=e,s()},E=u([{name:"id",label:"\u4E3B\u952E"},{name:"username",label:"\u8D26\u53F7"},{name:"nickName",label:"\u6635\u79F0"},{name:"sex",label:"\u6027\u522B",formatter:(e,k,f)=>f===0?"\u7537":f===1?"\u5973":"\u672A\u77E5"},{name:"phone",label:"\u624B\u673A"},{name:"email",label:"\u90AE\u7BB1",width:190},{name:"createTime",label:"\u521B\u5EFA\u65F6\u95F4",width:170}]);return(e,k)=>{const f=o("Designer"),p=o("el-button"),h=o("el-table-column"),D=o("el-popconfirm"),A=o("el-table"),S=o("el-pagination"),V=o("router-view");return m.value?(d(),b("div",j,[T("div",null,[a(f,{style:{display:"inline-block"},id:"dynamicForm",formItems:v.value,preview:!0,formData:c.value,formConfig:C.value,onSubmit:t(s)},null,8,["formItems","formData","formConfig","onSubmit"]),a(p,{class:"add-button",size:"default",onClick:t(F)},{default:r(()=>[g(" \u6DFB\u52A0 ")]),_:1},8,["onClick"])]),t(l).data?(d(),b("div",q,[a(A,{data:t(l).data.records,border:"",size:"large",style:{width:"100%"},"header-row-class-name":"table-header-set"},{default:r(()=>[(d(!0),b(U,null,W(t(E),(n,_)=>(d(),y(h,{prop:n.name,label:n.label,width:n.width,formatter:n.formatter,key:_},null,8,["prop","label","width","formatter"]))),128)),a(h,{label:"\u64CD\u4F5C",width:190},{default:r(n=>[a(p,{icon:"Edit",size:"small",onClick:_=>t(I)(n.row)},{default:r(()=>[g("\u4FEE\u6539")]),_:2},1032,["onClick"]),a(D,{"confirm-button-text":"\u786E\u5B9A","cancel-button-text":"\u53D6\u6D88",icon:"InfoFilled","icon-color":"red",title:"\u786E\u5B9A\u5220\u9664\u8BE5\u7528\u6237\u5417?",onConfirm:_=>t(x)(n.row)},{reference:r(()=>[a(p,{size:"small",type:"danger",icon:"Delete"},{default:r(()=>[g("\u5220\u9664")]),_:1})]),_:2},1032,["onConfirm"])]),_:1})]),_:1},8,["data"]),a(S,{background:"",class:"page-position",total:t(l).data.total,onSizeChange:t(z),"page-size":t(l).data.size,onCurrentChange:t(w),"page-count":t(l).data.pages,"current-page":t(l).data.current,layout:"total, sizes, prev, pager, next, jumper"},null,8,["total","onSizeChange","page-size","onCurrentChange","page-count","current-page"])])):H("",!0)])):(d(),y(V,{key:1}))}}});const Z=O(G,[["__scopeId","data-v-52fd33d0"]]);export{Z as default};
