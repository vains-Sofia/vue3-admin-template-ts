import{r as c}from"./Request.91bcde67.js";import{d as a}from"./index.01fb4aa9.js";function d(e){const o={headers:{Authorization:"Basic YWRtaW46MTIzNDU2"}};return c.post(`http://kwqqr48rgo.cdhttp.cn/oauth2/token?grant_type=${e.grant_type}&code=${e.code}&redirect_uri=${e.redirect_uri}`,{},o)}const g=a({__name:"LoginRedirect",setup(e){let i={grant_type:"authorization_code",code:(t=>{let r=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(r);return n!==null?decodeURIComponent(n[2]):""})("code"),redirect_uri:"http://192.168.4.88:3000/vains3-admin-template-ts/loginRedirect"};return d(i).then(t=>{window.localStorage.setItem("token",t.token_type+" "+t.access_token),window.close()}),(t,r)=>"Loading..."}});export{g as default};
